!function(o){ScrollScene.prototype.addIndicators=function(t){function e(o){"scroll"!=o.type&&"resize"!=o.type||d.isDocument?i.updateIndicators():i.updateIndicators(!0)}var n={parent:void 0,zindex:-1,indent:0,suffix:"",colorTrigger:"blue",colorStart:"green",colorEnd:"red"},i=this,t=o.extend({},n,t),r=this.parent();if(r){var d=r.info(),s=""==t.labelSuffix?"":" "+t.suffix,a=o(t.parent).length>0?o(t.parent):d.isDocument?o("body"):d.container,l=o("<div></div>").addClass("ScrollSceneIndicators").data("options",t).css({position:"absolute",top:0,left:0,width:"100%",height:"100%","text-align":"center","z-index":t.zindex,"pointer-events":"none","font-size":10}),c=o("<div>trigger</div>").css({position:"fixed",overflow:"visible",color:t.colorTrigger}).addClass("hook");$start=o("<div>start"+s+"</div>").css({position:"absolute",overflow:"visible",color:t.colorStart}).addClass("start"),$end=o("<div>end"+s+"</div>").css({position:"absolute",overflow:"visible",color:t.colorEnd}).addClass("end"),"static"==a.css("position")&&a.css("position","relative"),i.indicators=l.append(c).append($start).append($end).appendTo(a),i.updateIndicators(),i.on("change.debug",e),d.container.on("resize scroll",e),d.isDocument||o(window).on("scroll resize",e)}else console.log("ERROR: Please add Scene to controller before adding indicators.");return i},ScrollScene.prototype.updateIndicators=function(t){var e=this,n=e.parent(),i=e.indicators,r=i.data("options");if(i&&n){var d=n.info(),s=i.children(".hook"),a=i.children(".start"),l=i.children(".end"),c=d.container.offset()||{top:0,left:0},p=d.vertical?c.top:c.left,f=d.size*e.triggerHook()+p,h=d.vertical?"v":"h";if(d.isDocument){var u=i.offsetParent().is("body")?o("body").offset():c;i.css({top:-u.top,left:-u.left})}else f-=d.vertical?o(document).scrollTop():o(document).scrollLeft();if(s.attr("data-hook",f).attr("data-direction",h).data("parent",d.container),$otherhook=o('.ScrollSceneIndicators .hook[data-hook="'+f+'"][data-direction='+h+"]:visible").not(s),$otherhook.length>0&&$otherhook.data("parent")==d.container)s.hide();else{s.show();var g=f>.8*d.size;s.css(d.vertical?{top:g?f-s.height()-2:f,left:(d.isDocument?d.container.width():c.left+d.container.width()-o(document).scrollLeft())-70-r.indent,width:40,height:"auto",padding:"0 8px 2px 8px","border-top":g?"none":"1px solid blue","border-bottom":g?"1px solid blue":"none","border-left":"none","border-right":"none"}:{top:(d.isDocument?d.container.height():c.top+d.container.height()-o(document).scrollTop())-40-r.indent,left:g?f-s.width()-9:f,width:"auto",height:20,padding:"5px 5px 0 5px","border-top":"none","border-bottom":"none","border-left":g?"none":"1px solid blue","border-right":g?"1px solid blue":"none"})}if(!t){var b=e.triggerOffset(),v=b+e.duration(),x={border:"none",top:"auto",bottom:"auto",left:"auto",right:"auto"};a.css(x),l.css(x),0==e.duration()?l.hide():l.show(),d.vertical?(a.css({top:b,right:71-d.container.scrollLeft()+r.indent,"border-top":"1px solid green",padding:"0 8px 0 8px"}),l.css({top:v,right:71-d.container.scrollLeft()+r.indent,"border-top":"1px solid red",padding:"0 8px 0 8px"})):(a.css({left:b,bottom:40-d.container.scrollTop()+r.indent,"border-left":"1px solid green",padding:"0 8px 0 8px"}),l.css({left:v,bottom:40-d.container.scrollTop()+r.indent,"border-left":"1px solid red",padding:"0 8px 0 8px"}))}}}}(jQuery);